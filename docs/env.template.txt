# ============================================
# Tribe Frontend 环境变量配置模板
# ============================================
# 使用说明：
# 1. 复制此文件为 .env.local（本地开发）或配置到部署平台
# 2. 填写所有必需的配置值（标记为 [必需]）
# 3. 可选配置项有默认值，可根据需要调整
# 4. 注意：NEXT_PUBLIC_* 变量会暴露给客户端
# ============================================

# ============================================
# 认证配置 [必需]
# ============================================

# NextAuth 密钥 - 用于加密 JWT token 和会话
# 生成方式: openssl rand -base64 32
# 或访问: https://generate-secret.vercel.app/32
# 生产环境必须设置，否则会导致认证失败
AUTH_SECRET=

# NextAuth 基础 URL - 你的应用完整域名（包含协议）
# 本地开发: http://localhost:8000
# 生产环境: https://tribe.example.com
# 注意：必须与实际访问域名一致，否则会导致回调失败
NEXTAUTH_URL=

# Auth URL (NextAuth 5.x 备用，兼容性配置)
# 通常与 NEXTAUTH_URL 相同
# 如果 NEXTAUTH_URL 未设置，会使用此值
AUTH_URL=

# ============================================
# 后端 API 配置 [必需]
# ============================================

# 后端服务 URL - agno 框架后端地址
# 本地开发: http://localhost:3000
# 生产环境: https://api.tribe.example.com:3000
# 注意: NEXT_PUBLIC_* 变量会暴露给客户端，确保后端允许跨域访问
NEXT_PUBLIC_BACKEND_URL=http://localhost:3000

# ============================================
# 数据库配置 [必需]
# ============================================

# PostgreSQL 连接字符串
# 格式: postgresql://用户名:密码@主机:端口/数据库名?schema=ai
# 示例: postgresql://postgres:password@localhost:5432/tribe?schema=ai
# 注意：schema 参数用于 Drizzle ORM，必须包含
# 生产环境建议使用连接池（如 Supabase、Neon、Vercel Postgres）
POSTGRES_URL=

# ============================================
# 文件存储配置 - MinIO/S3 [必需 - 生产环境]
# ============================================
# 注意：生产环境必须配置，开发环境可使用默认值（localhost:9000）

# MinIO/S3 端点 URL
# 本地开发: http://localhost:9000
# 生产环境: https://s3.amazonaws.com 或 https://minio.example.com
# 支持 MinIO 和 AWS S3 兼容的对象存储服务
MINIO_ENDPOINT=http://localhost:9000

# MinIO/S3 访问密钥 ID
# 本地开发默认: minioadmin
# 生产环境: 使用强密码，建议通过 IAM 创建专用用户
MINIO_ACCESS_KEY=minioadmin

# MinIO/S3 密钥
# 本地开发默认: minioadmin
# 生产环境: 使用强密码，妥善保管
MINIO_SECRET_KEY=minioadmin

# 存储区域
# AWS S3 区域标识符，MinIO 通常使用 us-east-1
# 默认: us-east-1
MINIO_REGION=us-east-1

# 存储桶名称
# 用于存储上传的文件（图片、文档等）
# 默认: tribe-files
# 注意：需要在 MinIO/S3 中预先创建此存储桶
MINIO_BUCKET=tribe-files

# 公开访问 URL - 用于生成文件访问链接
# 本地开发: http://localhost:9000
# 生产环境: https://files.tribe.example.com 或 CDN 地址
# 注意：如果使用 CDN，应配置为此 URL
# 如果未设置，将使用 MINIO_ENDPOINT
MINIO_PUBLIC_URL=http://localhost:9000

# ============================================
# 文件上传配置 [可选]
# ============================================

# 最大文件大小 (MB)
# 默认: 5MB（代码中默认值）
# 可根据服务器配置和需求调整
# 注意：同时需要配置 Nginx/服务器最大上传大小限制
MAX_FILE_SIZE_MB=5

# 允许的文件类型 (逗号分隔的 MIME 类型)
# 默认: image/jpeg,image/jpg,image/png,image/gif,image/webp
# 支持扩展: application/pdf,text/plain,application/msword 等
# 示例: image/*,application/pdf,.doc,.docx,.txt,.md
ALLOWED_FILE_TYPES=image/jpeg,image/jpg,image/png,image/gif,image/webp

# 启用文件压缩（图片）
# 默认: false（关闭）
# 设置为 true 启用图片压缩，可减少存储空间和带宽
# 注意：需要实现压缩逻辑，当前代码中预留了接口
ENABLE_FILE_COMPRESSION=false

# 压缩质量 (0-100，仅对图片有效)
# 默认: 80
# 值越高质量越好但文件越大，建议范围 70-90
# 仅在 ENABLE_FILE_COMPRESSION=true 时生效
FILE_COMPRESSION_QUALITY=80

# ============================================
# 地理位置功能 [可选]
# ============================================

# 禁用地理位置功能
# 默认: false（启用）
# 设置为 true 禁用地理位置相关功能
# 注意：某些 Agent 可能需要位置信息，禁用可能影响功能
DISABLE_GEOLOCATION=false

# ============================================
# 缓存配置 [可选 - 暂未使用]
# ============================================

# Redis 连接 URL（预留配置，当前代码中未使用）
# 格式: redis://用户名:密码@主机:端口
# 示例: redis://localhost:6379
# 可用于未来实现消息缓存、会话缓存等功能
REDIS_URL=

# ============================================
# Vercel 部署相关 [可选 - 仅 Vercel 部署需要]
# ============================================

# Vercel AI Gateway API Key
# 用于通过 Vercel AI Gateway 访问 LLM 服务
# 获取方式: https://vercel.com/ai-gateway
# 注意：当前项目使用后端 agno 框架，可能不需要此配置
AI_GATEWAY_API_KEY=

# Vercel Blob 读写 Token（已迁移到 MinIO，不再需要）
# 项目已从 Vercel Blob 迁移到 MinIO，此配置已废弃
# 保留仅为向后兼容，新部署无需配置
# BLOB_READ_WRITE_TOKEN=

# ============================================
# 开发/测试环境配置 [可选]
# ============================================

# 运行环境
# 值: development | production
# 开发环境: development（自动设置，无需手动配置）
# 生产环境: production（部署平台自动设置）
# 注意：不要在生产环境手动设置为 development
# NODE_ENV=production

# 开发服务器端口
# 默认: 8000（Next.js 默认）
# 仅在本地开发时使用
# PORT=8000

# Playwright 测试基础 URL
# 用于 E2E 测试
# 默认: http://localhost:8000
# PLAYWRIGHT_TEST_BASE_URL=http://localhost:8000

# CI 环境标识
# 在 CI/CD 环境中自动设置
# 用于控制测试行为和日志输出
# CI=false
